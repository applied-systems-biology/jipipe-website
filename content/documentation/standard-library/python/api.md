+++
title = "Python API"
description = "Documentation of the Python API to communciate with JIPipe."
weight = 10
type="page"
creatordisplayname = "Ruman Gerst"
creatoremail = "ruman.gerst@leibniz-hki.de"
lastmodifierdisplayname = "Ruman Gerst"
lastmodifieremail = "ruman.gerst@leibniz-hki.de"
+++

<a name="jipipe"></a>
# jipipe

<a name="jipipe.data_slot"></a>
# jipipe.data\_slot

This file provides functions that are used to manage the contents of a data slot

Zoltán Cseresnyés, Ruman Gerst

Research Group Applied Systems Biology - Head: Prof. Dr. Marc Thilo Figge
https://www.leibniz-hki.de/en/applied-systems-biology.html
HKI-Center for Systems Biology of Infection
Leibniz Institute for Natural Product Research and Infection Biology - Hans Knöll Institute (HKI)
Adolf-Reichwein-Straße 23, 07745 Jena, Germany

The project code is licensed under BSD 2-Clause.
See the LICENSE file provided with the code for the full license.

<a name="jipipe.data_slot.DataSlot"></a>
## DataSlot Objects

```python
class DataSlot()
```

Models a JIPipe data slot.

<a name="jipipe.data_slot.DataSlot.__init__"></a>
#### \_\_init\_\_

```python
 | __init__(data_type: str, storage_path: Path, node_id="", internal_path: Path = "", name: str = "", slot_type: str = "")
```

Initializes a new data slot

**Arguments**:

- `data_type`: the JIPipe data type ID that is accepted in this slot. The most basic type is 'jipipe:data'
- `slot_type`: the type of the slot. Allowed values are 'input' and 'output'. Can be empty.
- `storage_path`: a directory where the slot data is stored. If it does not exist, one will be created
- `node_id`: Metadata that indicates the node associated to this slot. Can be empty.
- `internal_path`: Metadata that indicates the placement of this data within a hierarchy of data. Can be empty.
- `name`: Name of the slot. Can be empty.

<a name="jipipe.data_slot.DataSlot.get_row_storage_path"></a>
#### get\_row\_storage\_path

```python
 | get_row_storage_path(row: int)
```

Returns the storage path for the provided row

**Arguments**:

- `row`: the row index

**Returns**:

the storage path for the row

<a name="jipipe.data_slot.DataSlot.copy_row"></a>
#### copy\_row

```python
 | copy_row(source_data_slot, source_row: int)
```

Copies data from the source slot into this slot

**Arguments**:

- `source_data_slot`: the source slot
- `source_row`: the source row

<a name="jipipe.data_slot.DataSlot.add_row"></a>
#### add\_row

```python
 | add_row(n: int = 1, annotations: dict = None, true_data_type: str = None)
```

Adds n rows into the slot

**Arguments**:

- `true_data_type`: the true data type ID of this entry. If none, the slot data type is used
- `annotations`: annotations to set for these rows
- `n`: how many rows to add

**Returns**:

the last row index

<a name="jipipe.data_slot.DataSlot.to_table"></a>
#### to\_table

```python
 | to_table()
```

Converts the data slot into a Pandas table.The format is equivalent to data-table.csv generated by JIPipe.

**Returns**:

Pandas table

<a name="jipipe.data_slot.DataSlot.to_dict"></a>
#### to\_dict

```python
 | to_dict()
```

Converts the data slot into a dict that can be serialized into JSON

**Returns**:

a dictionary that describes this slot

<a name="jipipe.data_slot.DataSlot.save"></a>
#### save

```python
 | save(with_csv=False)
```

Saves all metadata related to this slot in the storage folder.
This will overwrite data-table.json and data-table.csv (if enabled)

**Arguments**:

- `with_csv`: Also write the table as CSV. The format is equivalent to the one generated by JIPipe. Writing with CSV requires pandas to be installed.

**Returns**:

None

<a name="jipipe.data_slot.import_from_folder"></a>
#### import\_from\_folder

```python
import_from_folder(storage_path: Path)
```

Imports a data slot from a storage path.
A valid storage path contains 'data-table.json' and multiple numeric folders.

**Arguments**:

- `storage_path`: the storage path

**Returns**:

a DataSlot instance

<a name="jipipe.imagej"></a>
# jipipe.imagej

This file provides functions to read/write ImageJ data types

Zoltán Cseresnyés, Ruman Gerst

Research Group Applied Systems Biology - Head: Prof. Dr. Marc Thilo Figge
https://www.leibniz-hki.de/en/applied-systems-biology.html
HKI-Center for Systems Biology of Infection
Leibniz Institute for Natural Product Research and Infection Biology - Hans Knöll Institute (HKI)
Adolf-Reichwein-Straße 23, 07745 Jena, Germany

The project code is licensed under BSD 2-Clause.
See the LICENSE file provided with the code for the full license.

<a name="jipipe.imagej.get_image_file"></a>
#### get\_image\_file

```python
get_image_file(data_slot: DataSlot, row: int)
```

Finds the image file located in imagej-imgplus-* data slot rows

**Arguments**:

- `data_slot`: the data slot
- `row`: the row

**Returns**:

path to the image file or None if not found

<a name="jipipe.imagej.get_table_file"></a>
#### get\_table\_file

```python
get_table_file(data_slot: DataSlot, row: int)
```

Finds the CSV table file located in imagej-results-table (and related) data slow rows

**Arguments**:

- `data_slot`: the data slot
- `row`: the row

**Returns**:

path to the CSV file or None if not found

<a name="jipipe.imagej.load_image_file"></a>
#### load\_image\_file

```python
load_image_file(data_slot: DataSlot, row: int)
```

Finds and loads the image file located in imagej-imgplus-* data slot rows and loads it with Skimage.
Requires that Skimage is installed.

**Arguments**:

- `data_slot`: the data slot
- `row`: the row

**Returns**:

Image data or None if no image was found

<a name="jipipe.imagej.load_table_file"></a>
#### load\_table\_file

```python
load_table_file(data_slot: DataSlot, row: int)
```

Finds and loads the CSV table file in imagej-results-table (and related) data slow rows as pandas data frame
Requires that pandas is installed.

**Arguments**:

- `data_slot`: the data slot
- `row`: the row

**Returns**:

Image data or None if no image was found

<a name="jipipe.imagej.add_table"></a>
#### add\_table

```python
add_table(table, data_slot: DataSlot, annotations: dict = None)
```

Adds a new table into a new row of the specified slot

**Arguments**:

- `table`: the table. must be a Pandas table or dictionary that can be converted into a data frame
- `data_slot`: the data slot
- `annotations`: optional annotations (a dict of string keys and string values)

**Returns**:

index of the newly added row

<a name="jipipe.imagej.add_image"></a>
#### add\_image

```python
add_image(image, data_slot: DataSlot, annotations: dict = None)
```

Adds a new image into a new row of the specified slot. The image will be saved as TIFF.
Requires Skimage.

**Arguments**:

- `image`: an image. must be a numpy array
- `data_slot`: the data slot
- `annotations`: optional annotations (a dict of string keys and string values)

**Returns**:

index of the newly added row
